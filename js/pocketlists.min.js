(function(a){a.pocketlists={updateAppCounter:function(b){var c=function(e){e=parseInt(e,10)||"";var d=a("#wa-app-pocketlists").find(".indicator");if(!d.length){a("#wa-app-pocketlists").find("a").append('<span class="indicator" style="display:none;"></span>');d=a("#wa-app-pocketlists").find(".indicator")}d.text(e);if(e){d.show()}else{d.hide()}};if(b){c(b)}else{a.get("?module=json&action=appCount",function(d){if(d.status==="ok"){c(d.data)}},"json")}},scrollToTop:function(b,c){if(a("body").scrollTop()>c){a("html,body").animate({scrollTop:c+"px"},b)}},highlightSidebar:function(e){var b=a("#pl-sidebar-core").find("li");if(e){e.addClass("selected")}else{var d=a.pocketlists_routing.getHash(),c=b.find('a[href^="'+d+'"]');if(d){b.removeClass("selected")}if(c.length){c.closest("li").addClass("selected")}else{d=d.split("/");if(d[1]){b.find('a[href^="'+d[0]+"/"+d[1]+'"]').first().closest("li").addClass("selected")}}}},$loading:a('<i class="icon16 loading">'),init:function(){a.pocketlists_routing.init();var b=this;b.highlightSidebar();a("#wa-app").on("click","[data-pl-scroll-to-top] a",function(){b.scrollToTop(0,80)});a("#pl-sidebar-core").on("click","a",function(){b.highlightSidebar(a(this).closest("li"))})}}}(jQuery));