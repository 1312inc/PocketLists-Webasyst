import{d as I,q as M,$ as V,a0 as B,I as E,o as s,c as n,b as t,w as r,F as _,n as R,e as u,t as b,h as g,p,U as q,j as z,a1 as A,C as D,a2 as y,a3 as k}from"./index-GmhJFnTM.js";import{_ as x}from"./TaskList.vue_vue_type_script_setup_true_lang-DNk7oYJ7.js";import{_ as S}from"./ChooseLocation.vue_vue_type_script_setup_true_lang-09E82WsY.js";import"./SortableList.vue_vue_type_style_index_0_lang-UJIPteec.js";import"./rangy-5rxgwlWZ.js";const j={class:"pl-map-sidebar z-10 tw-absolute tw-top-0 tw-right-0 tw-bottom-0 tw-w-64 tw-p-4 tw-overflow-hidden"},N={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-h-full"},P={class:"tw-flex-none tw-flex tw-items-center tw-justify-between"},T={class:"larger"},F={class:"hide-scrollbar tw-flex-auto tw-overflow-y-auto"},G={class:"menu large"},O=["onClick"],Y={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-h-full"},U={class:"tw-flex-none tw-flex tw-items-center tw-gap-4 tw-justify-between"},H={class:"bold"},J={class:"hide-scrollbar tw-flex-auto tw-overflow-y-auto"},K={class:"tw-absolute z-10 tw-bottom-4 tw-left-1/2 -tw-translate-x-1/2 tw-bg-white custom-p-16 tw-flex tw-gap-2"},et=I({__name:"MapView",props:{locationId:{}},setup(w){const i=M(),d=V(),h=y(()=>k(()=>import("./MapGoogle-g9M1Q8zg.js"),__vite__mapDeps([0,1,2]),import.meta.url)),m=y(()=>k(()=>import("./MapYandex-JKu_pP_K.js"),__vite__mapDeps([3,1,2]),import.meta.url)),c=B(m),a=E(()=>w.locationId&&d.getItemById(w.locationId)),f=o=>{i.push(`/map/${o}`)},C=()=>{const o={...i.currentRoute.value.query};o.addLocation?delete o.addLocation:o.addLocation="1",i.push({path:"/map",query:o})},L=async o=>{await d.deleteItem(o),i.push("/map")};return(o,e)=>(s(),n(_,null,[t("div",j,[a.value?(s(),n("div",Y,[t("div",U,[t("a",{class:"larger",onClick:e[0]||(e[0]=r(l=>o.$router.push("/map"),["prevent"]))},e[6]||(e[6]=[t("i",{class:"fas fa-arrow-circle-left"},null,-1)])),t("div",H,b(a.value.name),1),t("div",null,[t("a",{onClick:e[1]||(e[1]=r(l=>L(a.value),["prevent"]))},e[7]||(e[7]=[t("i",{class:"fas fa-trash"},null,-1)]))])]),t("div",J,[g(x,{filter:"location","location-id":a.value.id,"addable-props":{location_id:a.value.id}},null,8,["location-id","addable-props"]),e[8]||(e[8]=t("div",{class:"custom-px-24 custom-my-24 tw-cursor-pointer"}," Выполненные ",-1)),g(x,{filter:"location","location-id":a.value.id,"should-filter-uncompleted":!0,"hide-add-new-task":!0},null,8,["location-id"])])])):(s(),n("div",N,[t("div",P,[e[5]||(e[5]=t("div",{class:"bold"}," Locations ",-1)),t("div",T,[t("a",{onClick:r(C,["prevent"])},e[4]||(e[4]=[t("i",{class:"fas fa-plus-circle"},null,-1)]))])]),t("div",F,[t("ul",G,[(s(!0),n(_,null,R(u(d).items,l=>(s(),n("li",{key:l.id,class:"rounded"},[t("a",{onClick:r(v=>f(l.id),["prevent"])},b(l.name),9,O)]))),128))])])]))]),t("div",K,[t("button",{onClick:e[2]||(e[2]=l=>c.value=u(h))}," Google "),t("button",{onClick:e[3]||(e[3]=l=>c.value=u(m))}," Yandex ")]),(s(),p(A,{to:"#wa-app"},[(s(),p(q(c.value),{places:u(d).items,"selected-location-id":o.locationId,onSelectLocation:f},{default:z(({lng:l,lat:v,zoom:$})=>[o.$route.query.addLocation?(s(),p(S,{key:0,lng:l,lat:v,zoom:$},null,8,["lng","lat","zoom"])):D("",!0),e[9]||(e[9]=t("div",{id:"map",class:"tw-absolute tw-w-full tw-h-full tw-top-0 tw-left-0 z-0"},null,-1))]),_:1},40,["places","selected-location-id"]))]))],64))}});export{et as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./MapGoogle-g9M1Q8zg.js","./index-GmhJFnTM.js","./index-xw9eY_Kb.css","./MapYandex-JKu_pP_K.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
