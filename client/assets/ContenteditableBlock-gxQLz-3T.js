import{m as g}from"./rangy-5rxgwlWZ.js";import{d as h,r as i,m as B,o as l,e as T,z as u,Y as d,t as k,g as y,_ as w}from"./index-8GM9p_88.js";const D={class:"tw-relative tw-w-full"},V=h({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update","blur"],setup(p,{expose:f,emit:m}){const s=m,t=p;f({focus:x});const n=i(),o=i(!1);let c="";const b=e=>{c=e.target.innerText},v=e=>{const a=e.target.innerText;a!==c&&s("update",a),s("blur")},_=e=>{o.value=!e.target.innerText};B(()=>t.value,e=>{o.value=!e},{immediate:!0});async function x(){if(t.editable&&t.focusable){if(!n.value)return;n.value.focus(),g(n.value)}}const C=e=>{var r;e.preventDefault();const a=(r=e.clipboardData)==null?void 0:r.getData("text/plain");a&&document.execCommand("insertText",!1,a)};return(e,a)=>(l(),T("div",D,[(l(),u(d(t.tag),{ref_key:"contenteditableRef",ref:n,contenteditable:t.editable,onFocus:b,onBlur:v,onInput:_,onPaste:C,innerHTML:t.value},null,40,["contenteditable","innerHTML"])),o.value?(l(),u(d(t.tag),{key:0,class:"placeholder",textContent:k(t.placeholder)},null,8,["textContent"])):y("",!0)]))}}),I=w(V,[["__scopeId","data-v-b3f00a6c"]]);export{I as C};
