import{d as y,r as u,m as c,o as k,y as h,w as d,i as w,l as C}from"./index-npZA7Hpi.js";import{C as _}from"./ContenteditableBlock-kW0c8NoE.js";const E=y({__name:"ContenteditableBlockClickable",props:{value:{},valueActive:{},placeholder:{},disableEnter:{type:Boolean}},emits:["update","updateActivity"],setup(p,{emit:f}){const l=p,r=f,t=u(!1),s=u();c(t,e=>r("updateActivity",e));const v=async()=>{t.value||(t.value=!0,await C(),s.value.focus())},m=async e=>{if(e===null){t.value=!1;return}c(()=>l.value,()=>{t.value=!1},{once:!0}),r("update",e)},b=e=>{var a,o;l.disableEnter&&(e.preventDefault(),(o=(a=e.target)==null?void 0:a.blur)==null||o.call(a))};return(e,a)=>(k(),h(_,{ref_key:"elementRef",ref:s,tag:"div",value:t.value?l.value:l.valueActive,placeholder:l.placeholder,editable:t.value,focusable:!0,onClick:v,onUpdate:m,onKeydown:[a[0]||(a[0]=d(w(o=>{var n,i;return(i=(n=o.target)==null?void 0:n.blur)==null?void 0:i.call(n)},["stop"]),["esc"])),d(b,["enter"])]},null,8,["value","placeholder","editable"]))}});export{E as _};
