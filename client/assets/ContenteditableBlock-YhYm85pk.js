import{m as _,s as x}from"./sanitizer-TiisBOmJ.js";import{d as h,r as c,m as T,o as B,y as C,j as g,Z as y,_ as k}from"./index-_OUKwzET.js";const D=h({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update","blur"],setup(i,{expose:u,emit:d}){const o=d,t=i;u({focus:b});const n=c(),l=c(!1);let s="";const p=e=>{s=e.target.innerText},f=e=>{const a=e.target.innerText.trim();o("update",a!==s?a:null),o("blur")},m=e=>{l.value=!e.target.innerText};T(()=>t.value,e=>{l.value=!e},{immediate:!0});async function b(){if(t.editable&&t.focusable){if(!n.value)return;n.value.focus(),_(n.value)}}const v=e=>{var r;e.preventDefault();const a=(r=e.clipboardData)==null?void 0:r.getData("text/plain");a&&document.execCommand("insertText",!1,a)};return(e,a)=>(B(),C(y(t.tag),{ref_key:"contenteditableRef",ref:n,contenteditable:t.editable,"data-placeholder":t.placeholder,onFocus:p,onBlur:f,onInput:m,onPaste:v,innerHTML:g(x)(t.value)},null,40,["contenteditable","data-placeholder","innerHTML"]))}}),I=k(D,[["__scopeId","data-v-0e98f767"]]);export{I as C};
