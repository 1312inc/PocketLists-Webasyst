function r(t){const e=document.getSelection().getRangeAt(0),n=e.cloneRange();return n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),n.toString().length}function g(t,o){const e=d(t,o),n=document.getSelection();n.removeAllRanges(),n.addRange(e)}function i(t){const o=document.createRange(),e=document.getSelection();o.setStart(t,t.childNodes.length),o.collapse(!0),e.removeAllRanges(),e.addRange(o)}const d=(t,o)=>{var a;const e=document.createRange();e.selectNode(t),e.setStart(t,0);let n=0;const l=[t];for(;l.length>0;){const s=l.pop();if(s&&s.nodeType===Node.TEXT_NODE){const c=((a=s.textContent)==null?void 0:a.length)||0;if(n+c>=o)return e.setStart(s,o-n),e.setEnd(s,o-n),e;n+=c}else if(s&&s.childNodes&&s.childNodes.length>0)for(let c=s.childNodes.length-1;c>=0;c--)l.push(s.childNodes[c])}return e.setStart(t,t.childNodes.length),e.setEnd(t,t.childNodes.length),e};export{r as g,i as m,g as s};
