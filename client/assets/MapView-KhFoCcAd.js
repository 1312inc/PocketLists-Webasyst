import{d as I,q as x,$ as V,a0 as B,I as M,o as n,p as r,c as q,b as o,B as A,t as m,w as u,h as f,C as v,e as c,U as E,j as R,a1 as z,a2 as b,a3 as g}from"./index-_Sp4qyol.js";import{_ as y}from"./TaskList.vue_vue_type_script_setup_true_lang-U8Cy1-3i.js";import{_ as D}from"./ChooseLocation.vue_vue_type_script_setup_true_lang-8-64tilH.js";import"./SortableList.vue_vue_type_style_index_0_lang-xarYRJvh.js";import"./rangy-5rxgwlWZ.js";const N={key:0,class:"tw-absolute tw-pointer-events-auto tw-flex tw-flex-col tw-overflow-hidden z-10 tw-right-2 tw-top-12 tw-bottom-26 tw-bg-white custom-p-16 tw-w-64"},S={class:"tw-flex-none tw-flex tw-gap-8 tw-justify-between"},T={class:"hide-scrollbar tw-flex-auto tw-overflow-y-auto"},P={class:"tw-absolute z-10 tw-bottom-4 tw-left-1/2 tw-bg-white custom-p-16 tw-flex tw-gap-2"},j={class:"tw-absolute tw-top-2 tw-right-2 tw-bg-white"},H=I({__name:"MapView",props:{locationId:{}},setup(p){const s=x(),i=V(),_=b(()=>g(()=>import("./MapGoogle-OK1d2Rxa.js"),__vite__mapDeps([0,1,2]),import.meta.url)),w=b(()=>g(()=>import("./MapYandex-mLVDAPcN.js"),__vite__mapDeps([3,1,2]),import.meta.url)),d=B(w),a=M(()=>p.locationId&&i.getItemById(p.locationId)),L=e=>{s.push(`/map/${e}`)},C=()=>{const e={...s.currentRoute.value.query};e.addLocation?delete e.addLocation:e.addLocation="1",s.push({path:"/map",query:e})},h=async e=>{await i.deleteItem(e),s.push("/map")};return(e,t)=>(n(),r(z,{to:"#wa-app"},[a.value?(n(),q("div",N,[o("div",S,[A(m(a.value.name)+" ",1),o("div",null,[o("a",{onClick:t[0]||(t[0]=u(l=>h(a.value),["prevent"]))},t[4]||(t[4]=[o("i",{class:"fas fa-trash"},null,-1)]))]),o("div",null,[o("a",{onClick:t[1]||(t[1]=u(l=>e.$router.push("/map"),["prevent"]))},t[5]||(t[5]=[o("i",{class:"fas fa-times"},null,-1)]))])]),o("div",T,[f(y,{filter:"location","location-id":a.value.id,"addable-props":{location_id:a.value.id}},null,8,["location-id","addable-props"]),t[6]||(t[6]=o("div",{class:"custom-px-24 custom-my-24 tw-cursor-pointer"}," Выполненные ",-1)),f(y,{filter:"location","location-id":a.value.id,"should-filter-uncompleted":!0,"hide-add-new-task":!0},null,8,["location-id"])])])):v("",!0),o("div",P,[o("button",{onClick:t[2]||(t[2]=l=>d.value=c(_))}," Google "),o("button",{onClick:t[3]||(t[3]=l=>d.value=c(w))}," Yandex ")]),(n(),r(E(d.value),{places:c(i).items,"selected-location-id":e.locationId,onSelectLocation:L},{default:R(({lng:l,lat:k,zoom:$})=>[e.$route.query.addLocation?(n(),r(D,{key:0,lng:l,lat:k,zoom:$},null,8,["lng","lat","zoom"])):v("",!0),t[7]||(t[7]=o("div",{id:"map",class:"tw-absolute width-100 tw-h-full tw-top-0 tw-left-0 z-0"},null,-1))]),_:1},40,["places","selected-location-id"])),o("div",j,[o("button",{onClick:u(C,["prevent"])},m(e.$route.query.addLocation?"Close":"Add Location"),1)])]))}});export{H as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./MapGoogle-OK1d2Rxa.js","./index-_Sp4qyol.js","./index-ZNve3dAC.css","./MapYandex-mLVDAPcN.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
