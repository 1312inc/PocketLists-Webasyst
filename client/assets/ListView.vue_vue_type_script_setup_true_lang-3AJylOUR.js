import{_ as h,a as _}from"./TaskList.vue_vue_type_script_setup_true_lang--qhntEw3.js";import{d,L as m,q as g,o as i,c as f,h as u,b as t,w,N as I,t as b,I as v,p as n,C as p,r as y,j as $}from"./index-9aHTTejR.js";import{C as k}from"./ContenteditableBlock-814gSk0w.js";const B={class:"tw-flex tw-justify-between tw-items-center"},x=d({__name:"ListName",props:{list:{}},setup(r){const s=m(),a=g(),e=async o=>{await s.updateItem(r.list,{name:o})},l=async()=>{await s.deleteItem(r.list),a.push({name:"lists"})};return(o,c)=>(i(),f("div",B,[u(k,{ref:"contenteditableBlockRef",value:o.list.name,editable:!0,focusable:!0,placeholder:o.$t("newList"),tag:"h1",onUpdate:e},null,8,["value","placeholder"]),t("div",null,[t("a",{onClick:w(l,["prevent"])},c[0]||(c[0]=[t("i",{class:"fas fa-trash-alt"},null,-1)]))])]))}}),C={class:"progressbar custom-m-24"},L={class:"progressbar-line-wrapper text-outside"},S={class:"progressbar-outer"},N={class:"progressbar-text"},V=d({__name:"ProgressBar",props:{percentage:{}},setup(r){return(s,a)=>(i(),f("div",C,[t("div",L,[t("div",S,[t("div",{class:"progressbar-inner",style:I(`width: ${s.percentage}%;`)},null,4)]),t("div",N,b(`${s.percentage}%`),1)])]))}}),j=d({__name:"ProgressBarList",props:{listId:{}},setup(r){const s=m(),a=v(()=>{const e=s.getItemById(r.listId);if(e!=null&&e.extended_data)return!e.extended_data.items_count&&e.extended_data.items_completed_count?100:Math.round(100*e.extended_data.items_completed_count/(e.extended_data.items_count+e.extended_data.items_completed_count))||0});return(e,l)=>a.value!==void 0?(i(),n(V,{key:0,percentage:a.value},null,8,["percentage"])):p("",!0)}}),D={class:"tw-gap-4"},M={class:"custom-px-24 custom-my-24"},z=d({__name:"ListView",props:{listId:{}},setup(r){const s=m(),a=v(()=>s.getItemById(r.listId)),e=y(!1);return(l,o)=>(i(),n(h,null,{default:$(()=>[t("div",D,[t("div",M,[a.value?(i(),n(x,{key:0,list:a.value},null,8,["list"])):p("",!0)]),u(j,{"list-id":l.listId},null,8,["list-id"]),u(_,{filter:"list","list-id":l.listId,"addable-props":{list_id:l.listId}},null,8,["list-id","addable-props"]),t("div",{class:"custom-px-24 custom-my-24 tw-cursor-pointer",onClick:o[0]||(o[0]=c=>e.value=!e.value)}," Выполненные "),e.value?(i(),n(_,{key:0,filter:"list","should-filter-uncompleted":!0,"list-id":l.listId,"hide-add-new-task":!0,"disable-sort":!0},null,8,["list-id"])):p("",!0)])]),_:1}))}});export{z as _};
