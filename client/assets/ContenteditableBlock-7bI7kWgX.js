import{m as x}from"./rangy-5rxgwlWZ.js";import{h as C,r,p as i,y as h,o as l,j as u,A as k,t as d,U as B,R as y,E as g}from"./index-i_ZjAD-A.js";const w={class:"tw-relative tw-w-full"},T=["textContent"],E=C({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update"],setup(p,{emit:m}){const f=m,t=p,a=r(),n=r(!1);let s="";const v=e=>{s=e.target.innerText},_=e=>{const o=e.target.innerText;o!==s&&f("update",o)},b=e=>{n.value=!e.target.innerText};return i([()=>t.editable,()=>t.focusable],([e,o])=>{e&&o&&h(()=>{var c;(c=a.value)==null||c.focus(),a.value&&x(a.value)})}),i(()=>t.value,e=>{n.value=!e},{immediate:!0}),(e,o)=>(l(),u("div",w,[(l(),k(B(t.tag),{ref_key:"contenteditableRef",ref:a,contenteditable:t.editable,onFocus:v,onBlur:_,onInput:b,textContent:d(t.value)},null,40,["contenteditable","textContent"])),n.value?(l(),u("div",{key:0,class:"placeholder",textContent:d(t.placeholder)},null,8,T)):y("",!0)]))}}),D=g(E,[["__scopeId","data-v-72186e9d"]]);export{D as C};
