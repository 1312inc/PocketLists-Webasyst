import{m as b}from"./rangy-5rxgwlWZ.js";import{d as C,r as c,k as h,q as k,c as i,x as B,t as r,a0 as w,I as y,o as l,_ as g}from"./index-Co36s9HO.js";const T={class:"tw-relative tw-w-full"},I=["textContent"],V=C({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update"],setup(u,{expose:d,emit:p}){const f=p,t=u;d({focus:x});const o=c(),a=c(!1);let s="";const m=e=>{s=e.target.innerText},_=e=>{const n=e.target.innerText;n!==s&&f("update",n)},v=e=>{a.value=!e.target.innerText};h(()=>t.value,e=>{a.value=!e},{immediate:!0});async function x(){t.editable&&t.focusable&&(await k(),o.value&&(o.value.focus(),b(o.value)))}return(e,n)=>(l(),i("div",T,[(l(),B(w(t.tag),{ref_key:"contenteditableRef",ref:o,contenteditable:t.editable,onFocus:m,onBlur:_,onInput:v,textContent:r(t.value)},null,40,["contenteditable","textContent"])),a.value?(l(),i("div",{key:0,class:"placeholder",textContent:r(t.placeholder)},null,8,I)):y("",!0)]))}}),R=g(V,[["__scopeId","data-v-6194086d"]]);export{R as C};
