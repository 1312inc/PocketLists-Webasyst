import{h as $,E as x,a7 as I,a8 as V,c as m,o as n,D as d,j as E,k as e,P as M,t as v,w as c,q as R,Q as f,m as p,a2 as q,v as A,a9 as B,aa as _,I as D,ab as b}from"./index-1OI6RLX3.js";import{_ as N}from"./ModalWrapperBody.vue_vue_type_script_setup_true_lang-n6W0p2m7.js";import{_ as z}from"./ChooseLocation.vue_vue_type_script_setup_true_lang-KSoMI2pc.js";const P={key:0,class:"tw-absolute tw-pointer-events-auto tw-flex tw-flex-col tw-overflow-hidden z-10 tw-right-2 tw-top-12 tw-bottom-26 tw-bg-white custom-p-16 tw-w-64"},S={class:"tw-flex-none tw-flex tw-gap-8 tw-justify-between"},T={class:"tw-flex-auto"},j={class:"tw-absolute z-10 tw-bottom-4 tw-left-1/2 tw-bg-white custom-p-16 tw-flex tw-gap-2"},G={class:"tw-absolute tw-top-2 tw-right-2 tw-bg-white"},H=$({__name:"MapView",setup(O){const a=x(),g=_(()=>b(()=>import("./MapGoogle--TQPfwXr.js"),__vite__mapDeps([0,1,2]),import.meta.url)),w=_(()=>b(()=>import("./MapYandex-fxhJJn1E.js"),__vite__mapDeps([3,1,2]),import.meta.url)),i=I(w),u=V(),r=m(()=>D(a.currentRoute.value.params.id)),l=m(()=>r.value?u.getItemById(r.value):void 0),L=o=>{a.push(`/map/${o}`)},y=()=>{const o={...a.currentRoute.value.query};o.addLocation?delete o.addLocation:o.addLocation="1",a.push({path:"/map",query:o})},k=async o=>{await u.deleteItem(o),a.push("/map")};return(o,t)=>(n(),d(B,{to:"#wa-app"},[l.value?(n(),E("div",P,[e("div",S,[M(v(l.value.name)+" ",1),e("div",null,[e("a",{onClick:t[0]||(t[0]=c(s=>k(l.value),["prevent"]))},t[4]||(t[4]=[e("i",{class:"fas fa-trash"},null,-1)]))]),e("div",null,[e("a",{onClick:t[1]||(t[1]=c(s=>o.$router.push("/map"),["prevent"]))},t[5]||(t[5]=[e("i",{class:"fas fa-times"},null,-1)]))])]),e("div",T,[R(N,{filter:"location","location-id":l.value.id},null,8,["location-id"])])])):f("",!0),e("div",j,[e("button",{onClick:t[2]||(t[2]=s=>i.value=p(g))}," Google "),e("button",{onClick:t[3]||(t[3]=s=>i.value=p(w))}," Yandex ")]),(n(),d(q(i.value),{places:p(u).items,"selected-location-id":r.value,onSelectLocation:L},{default:A(({lng:s,lat:C,zoom:h})=>[o.$route.query.addLocation?(n(),d(z,{key:0,lng:s,lat:C,zoom:h},null,8,["lng","lat","zoom"])):f("",!0),t[6]||(t[6]=e("div",{id:"map",class:"tw-absolute width-100 tw-h-full tw-top-0 tw-left-0 z-0"},null,-1))]),_:1},40,["places","selected-location-id"])),e("div",G,[e("button",{onClick:c(y,["prevent"])},v(o.$route.query.addLocation?"Close":"Add Location"),1)])]))}});export{H as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./MapGoogle--TQPfwXr.js","./index-1OI6RLX3.js","./index-A3hswJwA.css","./MapYandex-fxhJJn1E.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
