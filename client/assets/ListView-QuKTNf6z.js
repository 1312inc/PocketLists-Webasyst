import{_ as p}from"./TaskListLayout.vue_vue_type_script_setup_true_lang-vKppnJ7D.js";import{_ as f}from"./TaskList.vue_vue_type_script_setup_true_lang-_pGMJ32s.js";import{u as L}from"./task-qxE_TqYc.js";import{a as k,N as g,c as l,L as b,w as h,x as c,h as d,o as i,g as v,b as B,i as y,j as I,F as S,e as o}from"./index-7Iwm4ov_.js";import{_ as w}from"./VerticalGap.vue_vue_type_script_setup_true_lang-0iZNnWlr.js";import"./dayjs.min-CvamOdHC.js";import"./index-xQT9Sack.js";import"./user-p6gjBIko.js";const x=r=>typeof r<"u",C=o("i",{class:"fas fa-plus"},null,-1),N=[C],A=k({__name:"ListView",setup(r){const u=g(),t=l(()=>+u.params.id),n=L(),s=b(),_=l(()=>[s.getListById(t.value),...s.getSublistsInList(t.value)].filter(x)),m=()=>{var e;s.createList({pocket_id:(e=s.getListById(t.value))==null?void 0:e.pocket_id,parent_list_id:t.value})};return h(()=>t.value,e=>{n.fetch({list_id:e})},{immediate:!0}),(e,V)=>(i(),c(p,null,{default:d(()=>[v(w,{space:4},{default:d(()=>[(i(!0),B(S,null,y(_.value,a=>(i(),c(f,{key:a.id,items:I(n).getTasksInList(a.id),"sortable-list-id":a.id,"addable-props":{list_id:a.id}},null,8,["items","sortable-list-id","addable-props"]))),128)),o("div",{class:"align-center"},[o("button",{class:"gray",onClick:m},N)])]),_:1})]),_:1}))}});export{A as default};
