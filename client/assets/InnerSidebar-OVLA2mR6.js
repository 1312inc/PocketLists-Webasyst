import{_ as L,o as i,h as u,I as E,e as k,J as x,r as m,z as D,K as g,L as R,F as b,m as T,C as $,k as p,i as t,A as w,M as y,w as V,n as P,N as z,O as I,j as v,G as C,t as S,P as h,p as f,Q as F}from"./index-tLLaqBnx.js";import{_ as H}from"./VerticalGap.vue_vue_type_script_setup_true_lang-Mq-Al2Gj.js";import{u as W}from"./task-qLWOvPLu.js";const J={},O={class:"bricks"},j=E('<div class="brick pl-bg-block" data-v-53ea13ed><span class="icon" data-v-53ea13ed><i class="fas fa-star" data-v-53ea13ed></i></span><span class="count" data-v-53ea13ed>495</span> Star </div><div class="brick pl-bg-block" data-v-53ea13ed><span class="icon" data-v-53ea13ed><i class="fas fa-bolt" data-v-53ea13ed></i></span><span class="count" data-v-53ea13ed>33</span> Bolt </div>',2),A=[j];function G(d,n){return i(),u("div",O,A)}const K=L(J,[["render",G],["__scopeId","data-v-53ea13ed"]]),Q=["data-type","data-id"],U=["onClick"],Y=k({__name:"WaMenu",props:{items:{},routeName:{},large:{type:Boolean}},setup(d){const n=d,c=W(),s=x(),o=m([]);return D(()=>{o.value.forEach(a=>{g(a,"dragenter",e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add(s.dragover)}),g(a,"dragleave",e=>{e.currentTarget instanceof HTMLElement&&e.target===e.currentTarget&&e.currentTarget.classList.remove(s.dragover)}),g(a,"dragover",e=>{e.preventDefault()}),g(a,"drop",e=>{if(e.currentTarget instanceof HTMLElement&&(e.preventDefault(),e.currentTarget.classList.remove(s.dragover),e.dataTransfer))try{const l=JSON.parse(e.dataTransfer.getData("Text")).taskIds;c.sort(a==null?void 0:a.dataset.id,null,l)}catch(l){console.error(l)}})})}),(a,e)=>{const l=R("RouterLink");return i(),u("ul",{class:y(["menu",{large:n.large}])},[(i(!0),u(b,null,T(a.items,(r,_)=>(i(),$(l,{key:r.name,to:{name:n.routeName,params:{id:r.id}},custom:""},{default:p(({navigate:B,isActive:N})=>[t("li",{ref_for:!0,ref_key:"menuItemElementRef",ref:o,class:y({selected:N}),"data-type":n.routeName,"data-id":r.id},[t("a",{onClick:B},[w(a.$slots,"default",{item:r},void 0,!0)],8,U)],10,Q)]),_:2},1032,["to"]))),128))],2)}}}),q="_dragover_3d86c_1",X={dragover:q},Z={$style:X},ee=L(Y,[["__cssModules",Z],["__scopeId","data-v-620bbe13"]]),M=k({__name:"ContenteditableBlock",props:{editable:{type:Boolean},focusable:{type:Boolean},tag:{}},emits:["update","blur"],setup(d,{emit:n}){const c=n,s=d,o=m(),a=m(""),e=r=>{a.value=r.target.innerText},l=r=>{c("blur");const _=r.target.innerText;_!==a.value&&c("update",_)};return V(()=>[s.editable,s.focusable],([r,_])=>{r&&_&&o.value&&P(()=>{o.value.focus()})}),(r,_)=>(i(),$(z(s.tag),{ref_key:"contenteditableRef",ref:o,contenteditable:s.editable,onFocus:e,onBlur:l},{default:p(()=>[w(r.$slots,"default")]),_:3},40,["contenteditable"]))}}),te={class:"icon size-32"},se=["src"],ae=t("i",{class:"fas fa-pen"},null,-1),oe=[ae],ne=t("i",{class:"fas fa-trash-alt"},null,-1),re=[ne],ce=t("span",{class:"count"},"88",-1),le=k({__name:"ListsListItem",props:{item:{}},setup(d){const n=d,c=I(),s=m(!1),o=e=>{c.updateItemName(n.item,e)},a=()=>{c.deleteItem(n.item)};return(e,l)=>(i(),u(b,null,[t("span",te,[t("img",{src:e.item.icon,alt:""},null,8,se)]),v(M,{editable:s.value,focusable:!0,tag:"span",onBlur:l[0]||(l[0]=r=>s.value=!1),onUpdate:o},{default:p(()=>[C(S(e.item.name),1)]),_:1},8,["editable"]),t("a",{class:"count",onClick:l[1]||(l[1]=h(r=>s.value=!s.value,["prevent"]))},oe),t("a",{class:"count",onClick:h(a,["prevent"])},re),ce],64))}}),ie={class:"heading black tw-m-0 tw-mb-2"},de=t("i",{class:"fas fa-pen"},null,-1),ue=[de],_e=t("i",{class:"fas fa-plus-circle"},null,-1),pe=[_e],fe={class:"pl-bg-block tw-rounded-xl tw-overflow-hidden"},me={key:1,class:"tw-px-4 tw-py-3 gray"},ve=k({__name:"ListsList",props:{pocketId:{},title:{}},setup(d){const n=I(),c=m(!1);return(s,o)=>(i(),u(b,null,[t("h5",ie,[v(M,{tag:"span",editable:c.value,focusable:!0},{default:p(()=>[C(S(s.title),1)]),_:1},8,["editable"]),t("a",{class:"count",onClick:o[0]||(o[0]=h(a=>c.value=!c.value,["prevent"]))},ue),t("a",{class:"count action",onClick:o[1]||(o[1]=h(a=>f(n).createList({pocket_id:s.pocketId}),["prevent"]))},pe)]),t("div",fe,[f(n).getListsInPocket(s.pocketId).length?(i(),$(ee,{key:0,large:!0,items:f(n).getListsInPocket(s.pocketId),"route-name":"list"},{default:p(({item:a})=>[v(le,{item:a},null,8,["item"])]),_:1},8,["items"])):(i(),u("div",me," No Lists Yet "))])],64))}}),ke=t("form",{class:"state-with-inner-icon right tw-w-full"},[t("input",{type:"search",placeholder:"Search",class:"tw-w-full"}),t("button",{class:"icon"},[t("i",{class:"fas fa-search"})])],-1),ge={class:"align-center"},he=t("i",{class:"fa fa-plus"},null,-1),be=[he],Te=k({__name:"InnerSidebar",setup(d){const n=F();return(c,s)=>(i(),$(H,{space:4},{default:p(()=>[ke,v(K),(i(!0),u(b,null,T(f(n).pockets,o=>(i(),u("div",{key:o.id},[v(ve,{title:o.name,"pocket-id":o.id},null,8,["title","pocket-id"])]))),128)),t("div",ge,[t("button",{class:"gray",onClick:s[0]||(s[0]=o=>f(n).createPocket())},be)])]),_:1}))}});export{Te as default};
