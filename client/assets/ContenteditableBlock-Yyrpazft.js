import{m as g,s as h}from"./sanitizer-qTkizPqY.js";import{d as B,r as i,m as T,o as l,e as k,z as u,j as y,Y as d,t as w,g as D,_ as V}from"./index-gfIV291z.js";const z={class:"tw-relative tw-w-full"},E=B({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update","blur"],setup(p,{expose:f,emit:m}){const s=m,t=p;f({focus:x});const n=i(),o=i(!1);let c="";const v=e=>{c=e.target.innerText},b=e=>{const a=e.target.innerText;s("update",a!==c?a:null),s("blur")},_=e=>{o.value=!e.target.innerText};T(()=>t.value,e=>{o.value=!e},{immediate:!0});async function x(){if(t.editable&&t.focusable){if(!n.value)return;n.value.focus(),g(n.value)}}const C=e=>{var r;e.preventDefault();const a=(r=e.clipboardData)==null?void 0:r.getData("text/plain");a&&document.execCommand("insertText",!1,a)};return(e,a)=>(l(),k("div",z,[(l(),u(d(t.tag),{ref_key:"contenteditableRef",ref:n,contenteditable:t.editable,onFocus:v,onBlur:b,onInput:_,onPaste:C,innerHTML:y(h)(t.value)},null,40,["contenteditable","innerHTML"])),o.value?(l(),u(d(t.tag),{key:0,class:"placeholder",textContent:w(t.placeholder)},null,8,["textContent"])):D("",!0)]))}}),L=V(E,[["__scopeId","data-v-fc0370a5"]]);export{L as C};
