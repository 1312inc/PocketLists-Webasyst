import{_ as C}from"./SearchForm.vue_vue_type_script_setup_true_lang-E9soJIE3.js";import{_ as b,a as S}from"./ListsList.vue_vue_type_script_setup_true_lang-OuXeoUgv.js";import{h as y,H as I,R as w,c as D,s as x,K as B,o as n,j as l,k as t,q as i,F as u,C as V,D as T,v as m,Q as $,X as F,S as d,P as J,t as L,I as O,Y as U}from"./index-Y48lTc29.js";import"./ContenteditableBlock-USkNf0vj.js";import"./rangy-5rxgwlWZ.js";import"./SortableList.vue_vue_type_style_index_0_lang-gID--LMD.js";const j={class:"custom-m-12"},q={class:"bricks"},z=["onClick"],E={class:"icon"},X=y({__name:"SidebarUser",props:{userId:{}},setup(_){const f=_,p=I(),{t:c}=w(),k={todos:{name:c("to-dos"),routeName:"user",icon:"far fa-smile"},log:{name:c("log"),routeName:"",icon:"fas fa-check-double"}},e=D(()=>{const s=O(f.userId);return typeof s=="number"&&!Number.isNaN(s)?s:null}),{list:r}=U();return x(e,async()=>{const s=r.value.get(JSON.stringify({assigned_contact_id:e.value})),a=await p.fetch({assigned_contact_id:e.value,limit:500,starting_from:s&&F(new Date(s))});a.value&&a.value.status_code==="ok"&&r.value.set(JSON.stringify({assigned_contact_id:e.value}),Date.now())},{immediate:!0}),(s,a)=>{const v=B("router-link");return n(),l(u,null,[t("div",j,[i(C)]),t("div",q,[(n(),l(u,null,V(k,(o,h)=>i(v,{key:h,to:{name:o.routeName},custom:""},{default:m(({isActive:N,navigate:g})=>[t("div",{class:d(["brick pl-bg-block",N&&"selected"]),onClick:g},[t("span",E,[t("i",{class:d(o.icon)},null,2)]),J(" "+L(o.name),1)],10,z)]),_:2},1032,["to"])),64))]),e.value?(n(),T(b,{key:0,"user-id":e.value},{default:m(()=>[i(S,{"user-id":e.value},null,8,["user-id"])]),_:1},8,["user-id"])):$("",!0)],64)}}});export{X as default};
