import{m as b}from"./rangy-5rxgwlWZ.js";import{h as C,r as c,s as h,B,j as i,D as k,t as r,a8 as w,P as y,o as l,K as g}from"./index-cetaVvjH.js";const T={class:"tw-relative tw-w-full"},D=["textContent"],V=C({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update"],setup(u,{expose:d,emit:p}){const f=p,t=u;d({focus:x});const o=c(),a=c(!1);let s="";const m=e=>{s=e.target.innerText},v=e=>{const n=e.target.innerText;n!==s&&f("update",n)},_=e=>{a.value=!e.target.innerText};h(()=>t.value,e=>{a.value=!e},{immediate:!0});async function x(){t.editable&&t.focusable&&(await B(),o.value&&(o.value.focus(),b(o.value)))}return(e,n)=>(l(),i("div",T,[(l(),k(w(t.tag),{ref_key:"contenteditableRef",ref:o,contenteditable:t.editable,onFocus:m,onBlur:v,onInput:_,textContent:r(t.value)},null,40,["contenteditable","textContent"])),a.value?(l(),i("div",{key:0,class:"placeholder",textContent:r(t.placeholder)},null,8,D)):y("",!0)]))}}),P=g(V,[["__scopeId","data-v-6194086d"]]);export{P as C};
