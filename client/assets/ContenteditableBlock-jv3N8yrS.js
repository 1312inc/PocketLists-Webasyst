import{m as C}from"./rangy-5rxgwlWZ.js";import{d as B,r,k as h,o as l,c as k,x as i,t as u,V as d,B as g,_ as y}from"./index-UBRhw1rw.js";const w={class:"tw-relative tw-w-full"},T=B({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update","blur"],setup(p,{expose:f,emit:m}){const s=m,e=p;f({focus:x});const o=r(),a=r(!1);let c="";const v=t=>{c=t.target.innerText},_=t=>{const n=t.target.innerText;n!==c&&s("update",n),s("blur")},b=t=>{a.value=!t.target.innerText};h(()=>e.value,t=>{a.value=!t},{immediate:!0});async function x(){if(e.editable&&e.focusable){if(!o.value)return;o.value.focus(),C(o.value)}}return(t,n)=>(l(),k("div",w,[(l(),i(d(e.tag),{ref_key:"contenteditableRef",ref:o,contenteditable:e.editable,onFocus:v,onBlur:_,onInput:b,textContent:u(e.value)},null,40,["contenteditable","textContent"])),a.value?(l(),i(d(e.tag),{key:0,class:"placeholder",textContent:u(e.placeholder)},null,8,["textContent"])):g("",!0)]))}}),E=y(T,[["__scopeId","data-v-2a564ffe"]]);export{E as C};
