import{d as h,q as k,$ as I,a0 as x,I as V,o as n,p as r,c as B,b as o,B as M,t as m,w as u,h as q,C as f,e as p,U as A,j as E,a1 as R,a2 as v,a3 as b}from"./index-Ek7Qy4l0.js";import{_ as z}from"./TaskList.vue_vue_type_script_setup_true_lang-gnxy24DA.js";import{_ as D}from"./ChooseLocation.vue_vue_type_script_setup_true_lang-XO91IDt5.js";import"./SortableList.vue_vue_type_style_index_0_lang-gLta4nne.js";import"./rangy-5rxgwlWZ.js";const N={key:0,class:"tw-absolute tw-pointer-events-auto tw-flex tw-flex-col tw-overflow-hidden z-10 tw-right-2 tw-top-12 tw-bottom-26 tw-bg-white custom-p-16 tw-w-64"},S={class:"tw-flex-none tw-flex tw-gap-8 tw-justify-between"},T={class:"tw-flex-auto"},P={class:"tw-absolute z-10 tw-bottom-4 tw-left-1/2 tw-bg-white custom-p-16 tw-flex tw-gap-2"},j={class:"tw-absolute tw-top-2 tw-right-2 tw-bg-white"},H=h({__name:"MapView",props:{locationId:{}},setup(c){const l=k(),i=I(),_=v(()=>b(()=>import("./MapGoogle-FmBtuI-n.js"),__vite__mapDeps([0,1,2]),import.meta.url)),w=v(()=>b(()=>import("./MapYandex-P4sj0FfX.js"),__vite__mapDeps([3,1,2]),import.meta.url)),d=x(w),a=V(()=>c.locationId&&i.getItemById(c.locationId)),g=e=>{l.push(`/map/${e}`)},L=()=>{const e={...l.currentRoute.value.query};e.addLocation?delete e.addLocation:e.addLocation="1",l.push({path:"/map",query:e})},y=async e=>{await i.deleteItem(e),l.push("/map")};return(e,t)=>(n(),r(R,{to:"#wa-app"},[a.value?(n(),B("div",N,[o("div",S,[M(m(a.value.name)+" ",1),o("div",null,[o("a",{onClick:t[0]||(t[0]=u(s=>y(a.value),["prevent"]))},t[4]||(t[4]=[o("i",{class:"fas fa-trash"},null,-1)]))]),o("div",null,[o("a",{onClick:t[1]||(t[1]=u(s=>e.$router.push("/map"),["prevent"]))},t[5]||(t[5]=[o("i",{class:"fas fa-times"},null,-1)]))])]),o("div",T,[q(z,{filter:"location","location-id":a.value.id,"addable-props":{location_id:a.value.id}},null,8,["location-id","addable-props"])])])):f("",!0),o("div",P,[o("button",{onClick:t[2]||(t[2]=s=>d.value=p(_))}," Google "),o("button",{onClick:t[3]||(t[3]=s=>d.value=p(w))}," Yandex ")]),(n(),r(A(d.value),{places:p(i).items,"selected-location-id":e.locationId,onSelectLocation:g},{default:E(({lng:s,lat:C,zoom:$})=>[e.$route.query.addLocation?(n(),r(D,{key:0,lng:s,lat:C,zoom:$},null,8,["lng","lat","zoom"])):f("",!0),t[6]||(t[6]=o("div",{id:"map",class:"tw-absolute width-100 tw-h-full tw-top-0 tw-left-0 z-0"},null,-1))]),_:1},40,["places","selected-location-id"])),o("div",j,[o("button",{onClick:u(L,["prevent"])},m(e.$route.query.addLocation?"Close":"Add Location"),1)])]))}});export{H as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./MapGoogle-FmBtuI-n.js","./index-Ek7Qy4l0.js","./index-YmPU_rwj.css","./MapYandex-P4sj0FfX.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
