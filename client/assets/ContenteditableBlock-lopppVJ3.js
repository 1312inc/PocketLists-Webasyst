import{m as b}from"./rangy-5rxgwlWZ.js";import{d as C,r,k as i,q as h,o as l,c as u,x as k,t as d,N as B,I as g,_ as w}from"./index-FRWD2OZN.js";const y={class:"tw-relative tw-w-full"},T=["textContent"],I=C({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update"],setup(p,{emit:m}){const f=m,t=p,o=r(),n=r(!1);let s="";const _=e=>{s=e.target.innerText},v=e=>{const a=e.target.innerText;a!==s&&f("update",a)},x=e=>{n.value=!e.target.innerText};return i([()=>t.editable,()=>t.focusable],([e,a])=>{e&&a&&h(()=>{var c;(c=o.value)==null||c.focus(),o.value&&b(o.value)})}),i(()=>t.value,e=>{n.value=!e},{immediate:!0}),(e,a)=>(l(),u("div",y,[(l(),k(B(t.tag),{ref_key:"contenteditableRef",ref:o,contenteditable:t.editable,onFocus:_,onBlur:v,onInput:x,textContent:d(t.value)},null,40,["contenteditable","textContent"])),n.value?(l(),u("div",{key:0,class:"placeholder",textContent:d(t.placeholder)},null,8,T)):g("",!0)]))}}),E=w(I,[["__scopeId","data-v-9a35ed4a"]]);export{E as C};
