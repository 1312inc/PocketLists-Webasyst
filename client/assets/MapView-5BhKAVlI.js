import{d as L,s as C,a0 as $,a1 as I,J as V,o as s,c as n,b as t,t as c,w as r,F as w,p as B,g as v,e as _,q as u,V as M,k as q,a2 as D,D as R,a3 as S,a4 as A}from"./index-SHjJ8L0G.js";import{_ as y}from"./TaskList.vue_vue_type_script_setup_true_lang-KXIKdskx.js";import{_ as E}from"./ChooseLocation.vue_vue_type_script_setup_true_lang-_o1bY2yj.js";import"./SortableList.vue_vue_type_style_index_0_lang-Jbc1FvzC.js";import"./rangy-5rxgwlWZ.js";const N={class:"pl-map-sidebar"},j={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-h-full"},z={class:"tw-flex-none tw-flex tw-items-center tw-justify-between"},F={class:"bold"},P={class:"larger"},T={class:"hide-scrollbar tw-flex-auto tw-overflow-y-auto"},J={class:"menu large"},O=["onClick"],Y={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-h-full"},G={class:"tw-flex-none tw-flex tw-items-center tw-gap-4 tw-justify-between"},H={class:"bold"},K={class:"hide-scrollbar tw-flex-auto tw-overflow-y-auto"},tt=L({__name:"MapView",props:{locationId:{}},setup(p){const i=C(),d=$(),h=S(()=>A(()=>import("./MapYandex-tWehXTaH.js"),__vite__mapDeps([0,1,2]),import.meta.url)),k=I(h),l=V(()=>p.locationId&&d.getItemById(p.locationId)),m=o=>{i.push(`/map/${o}`)},g=()=>{const o={...i.currentRoute.value.query};o.addLocation?delete o.addLocation:o.addLocation="1",i.push({path:"/map",query:o})},b=async o=>{await d.deleteItem(o),i.push("/map")};return(o,e)=>(s(),n(w,null,[t("div",N,[l.value?(s(),n("div",Y,[t("div",G,[t("a",{class:"larger",onClick:e[0]||(e[0]=r(a=>o.$router.push("/map"),["prevent"]))},e[3]||(e[3]=[t("i",{class:"fas fa-arrow-circle-left"},null,-1)])),t("div",H,c(l.value.name),1),t("div",null,[t("a",{onClick:e[1]||(e[1]=r(a=>b(l.value),["prevent"]))},e[4]||(e[4]=[t("i",{class:"fas fa-trash"},null,-1)]))])]),t("div",K,[_(y,{filter:"location","location-id":l.value.id,"addable-props":{location_id:l.value.id}},null,8,["location-id","addable-props"]),e[5]||(e[5]=t("div",{class:"custom-px-24 custom-my-24 tw-cursor-pointer"}," Выполненные ",-1)),_(y,{filter:"location","location-id":l.value.id,"should-filter-uncompleted":!0,"hide-add-new-task":!0},null,8,["location-id"])])])):(s(),n("div",j,[t("div",z,[t("div",F,c(o.$t("locations")),1),t("div",P,[t("a",{onClick:r(g,["prevent"])},e[2]||(e[2]=[t("i",{class:"fas fa-plus-circle"},null,-1)]))])]),t("div",T,[t("ul",J,[(s(!0),n(w,null,B(v(d).items,a=>(s(),n("li",{key:a.id,class:"rounded"},[t("a",{onClick:r(f=>m(a.id),["prevent"])},c(a.name),9,O)]))),128))])])]))]),(s(),u(D,{to:"#wa-app"},[(s(),u(M(k.value),{places:v(d).items,"selected-location-id":o.locationId,onSelectLocation:m},{default:q(({lng:a,lat:f,zoom:x})=>[o.$route.query.addLocation?(s(),u(E,{key:0,lng:a,lat:f,zoom:x},null,8,["lng","lat","zoom"])):R("",!0),e[6]||(e[6]=t("div",{id:"map",class:"tw-absolute tw-w-full tw-h-1/2 md:tw-h-full tw-top-0 tw-left-0 z-0"},null,-1))]),_:1},40,["places","selected-location-id"]))]))],64))}});export{tt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./MapYandex-tWehXTaH.js","./index-SHjJ8L0G.js","./index-KdDWEqkg.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
