import{_ as f}from"./TaskListLayout.vue_vue_type_script_setup_true_lang-orZVyJR_.js";import{_ as k}from"./TaskList.vue_vue_type_script_setup_true_lang-xexIUIcg.js";import{u as L}from"./task-7epW-GX-.js";import{e as I,L as b,Q as g,c as d,w as v,C as u,k as c,o as i,j as B,h as y,m as S,p as w,F as C,i as r}from"./index-R3wHp6Nq.js";import{_ as h}from"./VerticalGap.vue_vue_type_script_setup_true_lang-gqIWhvc6.js";import{p as x}from"./SortableList.vue_vue_type_style_index_0_lang-HFuvK6fr.js";import"./dayjs.min-mv8XJCQv.js";const N=o=>typeof o<"u",R=I({__name:"ListView",setup(o){const l=L(),s=b(),m=g(),e=d(()=>x(m.params.id)),p=d(()=>[s.getItemById(e.value),...s.getSublistsInList(e.value)].filter(N)),_=()=>{var t;s.createList({pocket_id:(t=s.getItemById(e.value))==null?void 0:t.pocket_id,parent_list_id:e.value})};return v(()=>e.value,t=>{l.fetch({list_id:t})},{immediate:!0}),(t,n)=>(i(),u(f,null,{default:c(()=>[B(h,{space:4},{default:c(()=>[(i(!0),y(C,null,S(p.value,a=>(i(),u(k,{key:a.id,items:w(l).getTasksInList(a.id),"sortable-list-id":a.id,"addable-props":{list_id:a.id}},null,8,["items","sortable-list-id","addable-props"]))),128)),r("div",{class:"align-center"},[r("button",{class:"gray",onClick:_},n[0]||(n[0]=[r("i",{class:"fas fa-plus"},null,-1)]))])]),_:1})]),_:1}))}});export{R as default};
