import{m as x}from"./rangy-5rxgwlWZ.js";import{h as C,r,s as B,j as g,D as i,t as u,a6 as d,P as k,o as l,K as y}from"./index-j-63ksNh.js";const w={class:"tw-relative tw-w-full"},T=C({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update"],setup(p,{expose:f,emit:m}){const s=m,e=p;f({focus:h});const a=r(),o=r(!1);let c="";const v=t=>{c=t.target.innerText},b=t=>{const n=t.target.innerText;n!==c?s("update",n):e.placeholder&&s("update",e.placeholder)},_=t=>{o.value=!t.target.innerText};B(()=>e.value,t=>{o.value=!t},{immediate:!0});async function h(){if(e.editable&&e.focusable){if(!a.value)return;a.value.focus(),x(a.value)}}return(t,n)=>(l(),g("div",w,[(l(),i(d(e.tag),{ref_key:"contenteditableRef",ref:a,contenteditable:e.editable,onFocus:v,onBlur:b,onInput:_,textContent:u(e.value)},null,40,["contenteditable","textContent"])),o.value?(l(),i(d(e.tag),{key:0,class:"placeholder",textContent:u(e.placeholder)},null,8,["textContent"])):k("",!0)]))}}),E=y(T,[["__scopeId","data-v-b10fab98"]]);export{E as C};
