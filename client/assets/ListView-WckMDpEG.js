import{_ as p}from"./TaskListLayout.vue_vue_type_script_setup_true_lang-dSggv7PV.js";import{_ as f}from"./TaskList.vue_vue_type_script_setup_true_lang-MKIQ176A.js";import{u as k}from"./task-3iWWRcpQ.js";import{e as L,L as I,Q as b,c as l,w as g,C as c,k as d,o as i,j as h,h as v,m as B,p as y,F as S,i as o}from"./index-Ni8uggSd.js";import{_ as w}from"./VerticalGap.vue_vue_type_script_setup_true_lang-7qvOTl4A.js";import{p as C}from"./SortableList.vue_vue_type_style_index_0_lang-qPvhHqOb.js";import"./dayjs.min-DBScIEZ6.js";const x=r=>typeof r<"u",N=o("i",{class:"fas fa-plus"},null,-1),V=[N],z=L({__name:"ListView",setup(r){const n=k(),s=I(),u=b(),e=l(()=>C(u.params.id)),m=l(()=>[s.getItemById(e.value),...s.getSublistsInList(e.value)].filter(x)),_=()=>{var t;s.createList({pocket_id:(t=s.getItemById(e.value))==null?void 0:t.pocket_id,parent_list_id:e.value})};return g(()=>e.value,t=>{n.fetch({list_id:t})},{immediate:!0}),(t,$)=>(i(),c(p,null,{default:d(()=>[h(w,{space:4},{default:d(()=>[(i(!0),v(S,null,B(m.value,a=>(i(),c(f,{key:a.id,items:y(n).getTasksInList(a.id),"sortable-list-id":a.id,"addable-props":{list_id:a.id}},null,8,["items","sortable-list-id","addable-props"]))),128)),o("div",{class:"align-center"},[o("button",{class:"gray",onClick:_},V)])]),_:1})]),_:1}))}});export{z as default};
