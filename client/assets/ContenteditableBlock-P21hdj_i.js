import{m as h}from"./rangy-5rxgwlWZ.js";import{d as B,r as i,m as k,o as l,b as y,z as u,t as d,X as p,f as w,_ as T}from"./index-IivA06_L.js";const D={class:"tw-relative tw-w-full"},V=B({__name:"ContenteditableBlock",props:{value:{},editable:{type:Boolean},focusable:{type:Boolean},placeholder:{},tag:{}},emits:["update","blur"],setup(f,{expose:m,emit:b}){const s=b,t=f;m({focus:C});const n=i(),o=i(!1);let c="";const v=e=>{c=e.target.innerText},x=e=>{const a=e.target.innerText;a!==c&&s("update",a),s("blur")},_=e=>{o.value=!e.target.innerText};k(()=>t.value,e=>{o.value=!e},{immediate:!0});async function C(){if(t.editable&&t.focusable){if(!n.value)return;n.value.focus(),h(n.value)}}const g=e=>{var r;e.preventDefault();const a=(r=e.clipboardData)==null?void 0:r.getData("text/plain");a&&document.execCommand("insertText",!1,a)};return(e,a)=>(l(),y("div",D,[(l(),u(p(t.tag),{ref_key:"contenteditableRef",ref:n,contenteditable:t.editable,onFocus:v,onBlur:x,onInput:_,onPaste:g,textContent:d(t.value)},null,40,["contenteditable","textContent"])),o.value?(l(),u(p(t.tag),{key:0,class:"placeholder",textContent:d(t.placeholder)},null,8,["textContent"])):w("",!0)]))}}),P=T(V,[["__scopeId","data-v-50c45cc6"]]);export{P as C};
