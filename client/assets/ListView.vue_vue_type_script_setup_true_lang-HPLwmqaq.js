import{_ as g,a as _}from"./TaskList.vue_vue_type_script_setup_true_lang-Xsd535kd.js";import{d,K as u,q as v,o,c as m,h as n,b as t,w,L as I,t as b,I as f,p as c,C as h,j as y}from"./index-3XC56Q03.js";import{C as $}from"./ContenteditableBlock-vE_7ZifU.js";const B={class:"tw-flex tw-justify-between tw-items-center"},k=d({__name:"ListName",props:{list:{}},setup(r){const s=u(),a=v(),e=async l=>{await s.updateItem(r.list,{name:l})},i=async()=>{await s.deleteItem(r.list),a.push({name:"lists"})};return(l,p)=>(o(),m("div",B,[n($,{ref:"contenteditableBlockRef",value:l.list.name,editable:!0,focusable:!0,placeholder:l.$t("newList"),tag:"h1",onUpdate:e},null,8,["value","placeholder"]),t("div",null,[t("a",{onClick:w(i,["prevent"])},p[0]||(p[0]=[t("i",{class:"fas fa-trash-alt"},null,-1)]))])]))}}),x={class:"progressbar custom-m-24"},C={class:"progressbar-line-wrapper text-outside"},L={class:"progressbar-outer"},S={class:"progressbar-text"},N=d({__name:"ProgressBar",props:{percentage:{}},setup(r){return(s,a)=>(o(),m("div",x,[t("div",C,[t("div",L,[t("div",{class:"progressbar-inner",style:I(`width: ${s.percentage}%;`)},null,4)]),t("div",S,b(`${s.percentage}%`),1)])]))}}),V=d({__name:"ProgressBarList",props:{listId:{}},setup(r){const s=u(),a=f(()=>{const e=s.getItemById(r.listId);if(e!=null&&e.extended_data)return!e.extended_data.items_count&&e.extended_data.items_completed_count?100:Math.round(100*e.extended_data.items_completed_count/(e.extended_data.items_count+e.extended_data.items_completed_count))||0});return(e,i)=>a.value!==void 0?(o(),c(N,{key:0,percentage:a.value},null,8,["percentage"])):h("",!0)}}),j={class:"tw-gap-4"},D={class:"custom-px-24 custom-my-24"},q=d({__name:"ListView",props:{listId:{}},setup(r){const s=u(),a=f(()=>s.getItemById(r.listId));return(e,i)=>(o(),c(g,null,{default:y(()=>[t("div",j,[t("div",D,[a.value?(o(),c(k,{key:0,list:a.value},null,8,["list"])):h("",!0)]),n(V,{"list-id":e.listId},null,8,["list-id"]),n(_,{filter:"list","list-id":e.listId,"addable-props":{list_id:e.listId}},null,8,["list-id","addable-props"]),i[0]||(i[0]=t("div",{class:"custom-px-24 custom-my-24 tw-cursor-pointer"}," Выполненные ",-1)),n(_,{filter:"list","should-filter-uncompleted":!0,"list-id":e.listId,"hide-add-new-task":!0,"disable-sort":!0},null,8,["list-id"])])]),_:1}))}});export{q as _};
