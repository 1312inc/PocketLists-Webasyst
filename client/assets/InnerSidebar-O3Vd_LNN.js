import{_ as y,o as l,b as d,D as C,a as g,r as f,y as R,F as b,i as L,x as h,h as m,e as s,s as T,B as I,w as S,n as M,E as N,G as x,q as D,H as V,I as k,g as v,z as w,t as E,J as $,K as H,j as p,L as P}from"./index-VK_KS0Xu.js";import{_ as z}from"./VerticalGap.vue_vue_type_script_setup_true_lang-Ewqt7kYp.js";import{u as F}from"./task-CKOy4UEG.js";import"./index-woUVvp7T.js";const W={},J={class:"bricks"},j=C('<div class="brick pl-bg-block" data-v-53ea13ed><span class="icon" data-v-53ea13ed><i class="fas fa-star" data-v-53ea13ed></i></span><span class="count" data-v-53ea13ed>495</span> Star </div><div class="brick pl-bg-block" data-v-53ea13ed><span class="icon" data-v-53ea13ed><i class="fas fa-bolt" data-v-53ea13ed></i></span><span class="count" data-v-53ea13ed>33</span> Bolt </div>',2),q=[j];function G(i,t){return l(),d("div",J,q)}const K=y(W,[["render",G],["__scopeId","data-v-53ea13ed"]]),O=["data-type","data-id"],Y=["onClick"],A=g({__name:"WaMenu",props:{items:{},routeName:{},large:{type:Boolean}},setup(i){const t=i,r=f([]);return(a,n)=>{const e=R("RouterLink");return l(),d("ul",{class:I(["menu",{large:t.large}])},[(l(!0),d(b,null,L(a.items,(o,_)=>(l(),h(e,{key:o.name,to:{name:t.routeName,params:{id:o.id}},custom:""},{default:m(({navigate:c,isActive:u})=>[s("li",{ref_for:!0,ref_key:"menuItemElementRef",ref:r,class:I({selected:u}),"data-type":t.routeName,"data-id":o.id},[s("a",{onClick:c},[T(a.$slots,"default",{item:o,menuItemElementRef:r.value[_]},void 0,!0)],8,Y)],10,O)]),_:2},1032,["to"]))),128))],2)}}}),Q=y(A,[["__scopeId","data-v-8b167023"]]),B=g({__name:"ContenteditableBlock",props:{editable:{type:Boolean},focusable:{type:Boolean},tag:{}},emits:["update","blur"],setup(i,{emit:t}){const r=t,a=i,n=f(),e=f(""),o=c=>{e.value=c.target.innerText},_=c=>{r("blur");const u=c.target.innerText;u!==e.value&&r("update",u)};return S(()=>[a.editable,a.focusable],([c,u])=>{c&&u&&n.value&&M(()=>{n.value.focus()})}),(c,u)=>(l(),h(N(a.tag),{ref_key:"contenteditableRef",ref:n,contenteditable:a.editable,onFocus:o,onBlur:_},{default:m(()=>[T(c.$slots,"default")]),_:3},40,["contenteditable"]))}}),U={class:"icon size-32"},X=["src"],Z=s("i",{class:"fas fa-pen"},null,-1),ee=[Z],te=s("span",{class:"count"},"88",-1),se=g({__name:"ListsListItem",props:{item:{},menuItemElementRef:{}},setup(i){const t=i,r=F(),a=x(),n=f(!1);return D(async()=>{await V(()=>t.menuItemElementRef).toBeTruthy(),k(t.menuItemElementRef,"dragenter",e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add(a.dragover)}),k(t.menuItemElementRef,"dragleave",e=>{e.currentTarget instanceof HTMLElement&&e.target===e.currentTarget&&e.currentTarget.classList.remove(a.dragover)}),k(t.menuItemElementRef,"dragover",e=>{e.preventDefault()}),k(t.menuItemElementRef,"drop",e=>{if(e.currentTarget instanceof HTMLElement&&(e.preventDefault(),e.currentTarget.classList.remove(a.dragover),e.dataTransfer))try{const o=JSON.parse(e.dataTransfer.getData("Text")).taskIds;r.sort(t.item.id,o)}catch(o){console.error(o)}})}),(e,o)=>(l(),d(b,null,[s("span",U,[s("img",{src:e.item.icon,alt:""},null,8,X)]),v(B,{editable:n.value,focusable:!0,tag:"span",onBlur:o[0]||(o[0]=_=>n.value=!1)},{default:m(()=>[w(E(e.item.name),1)]),_:1},8,["editable"]),s("a",{class:"count",onClick:o[1]||(o[1]=$(_=>n.value=!n.value,["prevent"]))},ee),te],64))}}),ae="_dragover_3d86c_1",ne={dragover:ae},oe={$style:ne},re=y(se,[["__cssModules",oe]]),le={class:"heading black tw-m-0 tw-mb-2"},ce=s("i",{class:"fas fa-pen"},null,-1),ie=[ce],de=s("i",{class:"fas fa-plus-circle"},null,-1),ue=[de],me={class:"pl-bg-block tw-rounded-xl tw-overflow-hidden"},_e={key:1,class:"tw-px-4 tw-py-3 gray"},pe=g({__name:"ListsList",props:{pocketId:{},title:{}},setup(i){const t=H(),r=f(!1);return(a,n)=>(l(),d(b,null,[s("h5",le,[v(B,{tag:"span",editable:r.value,focusable:!0},{default:m(()=>[w(E(a.title),1)]),_:1},8,["editable"]),s("a",{class:"count",onClick:n[0]||(n[0]=$(e=>r.value=!r.value,["prevent"]))},ie),s("a",{class:"count action",onClick:n[1]||(n[1]=$(e=>p(t).createList({pocket_id:a.pocketId}),["prevent"]))},ue)]),s("div",me,[p(t).getListsInPocket(a.pocketId).length?(l(),h(Q,{key:0,large:!0,items:p(t).getListsInPocket(a.pocketId),"route-name":"list"},{default:m(({item:e,menuItemElementRef:o})=>[v(re,{item:e,"menu-item-element-ref":o},null,8,["item","menu-item-element-ref"])]),_:1},8,["items"])):(l(),d("div",_e," No Lists Yet "))])],64))}}),fe=s("form",{class:"state-with-inner-icon right tw-w-full"},[s("input",{type:"search",placeholder:"Search",class:"tw-w-full"}),s("button",{class:"icon"},[s("i",{class:"fas fa-search"})])],-1),ve={class:"align-center"},ge=s("i",{class:"fa fa-plus"},null,-1),ke=[ge],Ie=g({__name:"InnerSidebar",setup(i){const t=P();return(r,a)=>(l(),h(z,{space:4},{default:m(()=>[fe,v(K),(l(!0),d(b,null,L(p(t).pockets,n=>(l(),d("div",{key:n.id},[v(pe,{title:n.name,"pocket-id":n.id},null,8,["title","pocket-id"])]))),128)),s("div",ve,[s("button",{class:"gray",onClick:a[0]||(a[0]=n=>p(t).createPocket())},ke)])]),_:1}))}});export{Ie as default};
