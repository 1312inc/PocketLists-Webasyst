import{_ as v}from"./TaskListLayout.vue_vue_type_script_setup_true_lang-_Xu0Pyz7.js";import{_}from"./TaskList.vue_vue_type_script_setup_true_lang-KXIKdskx.js";import{d as l,L as u,s as w,o as r,c as m,e as n,b as t,w as b,N as I,t as f,J as h,q as c,D as g,k as $}from"./index-SHjJ8L0G.js";import{C as y}from"./ContenteditableBlock-kliD76Nv.js";const k={class:"tw-flex tw-justify-between tw-items-center"},B=l({__name:"ListName",props:{list:{}},setup(o){const s=u(),a=w(),e=async i=>{await s.updateItem(o.list,{name:i})},d=async()=>{await s.deleteItem(o.list),a.push({name:"lists"})};return(i,p)=>(r(),m("div",k,[n(y,{ref:"contenteditableBlockRef",value:i.list.name,editable:!0,focusable:!0,placeholder:i.$t("newList"),tag:"h1",onUpdate:e},null,8,["value","placeholder"]),t("div",null,[t("a",{onClick:b(d,["prevent"])},p[0]||(p[0]=[t("i",{class:"fas fa-trash-alt"},null,-1)]))])]))}}),x={class:"progressbar custom-m-24"},L={class:"progressbar-line-wrapper text-outside"},C={class:"progressbar-outer"},S={class:"progressbar-text"},N=l({__name:"ProgressBar",props:{percentage:{}},setup(o){return(s,a)=>(r(),m("div",x,[t("div",L,[t("div",C,[t("div",{class:"progressbar-inner",style:I(`width: ${s.percentage}%;`)},null,4)]),t("div",S,f(`${s.percentage}%`),1)])]))}}),V=l({__name:"ProgressBarList",props:{listId:{}},setup(o){const s=u(),a=h(()=>{const e=s.getItemById(o.listId);if(e!=null&&e.extended_data)return!e.extended_data.items_count&&e.extended_data.items_completed_count?100:Math.round(100*e.extended_data.items_completed_count/(e.extended_data.items_count+e.extended_data.items_completed_count))||0});return(e,d)=>a.value!==void 0?(r(),c(N,{key:0,percentage:a.value},null,8,["percentage"])):g("",!0)}}),D={class:"tw-gap-4"},M={class:"custom-px-16 custom-my-24"},P={class:"custom-my-16 tw-cursor-pointer heading"},E=l({__name:"ListView",props:{listId:{}},setup(o){const s=u(),a=h(()=>s.getItemById(o.listId));return(e,d)=>(r(),c(v,null,{default:$(()=>[t("div",D,[t("div",M,[a.value?(r(),c(B,{key:0,list:a.value},null,8,["list"])):g("",!0)]),n(V,{"list-id":e.listId},null,8,["list-id"]),n(_,{filter:"list","list-id":e.listId,"addable-props":{list_id:e.listId}},null,8,["list-id","addable-props"]),t("div",P,f(e.$t("completed")),1),n(_,{filter:"list","should-filter-uncompleted":!0,"list-id":e.listId,"hide-add-new-task":!0,"disable-sort":!0},null,8,["list-id"])])]),_:1}))}});export{E as _};
